import{j as a}from"./jsx-runtime-nlD-EgCR.js";import{r as s}from"./iframe-BD9qcwu-.js";import{d as C}from"./platform-detection-D1LYLmav.js";import{S as x}from"./SocialIcon-CY3kc164.js";import{I as g}from"./Input-QEgdNR0s.js";import{B as N}from"./Button-BzwZ4BTt.js";const y=({onAdd:i,placeholder:h="Paste any link (Spotify, Instagram, TikTok, etc.)",disabled:n=!1})=>{const[l,m]=s.useState(""),[o,d]=s.useState(""),[u,p]=s.useState(!1),e=s.useMemo(()=>l.trim()?C(l.trim()):null,[l]),k=s.useCallback(r=>{m(r.target.value),o&&!u&&d("")},[o,u]),v=s.useCallback(r=>{d(r.target.value),p(!0)},[]),c=s.useCallback(()=>{if(!e||!e.isValid)return;const r={...e,suggestedTitle:o||e.suggestedTitle};i(r),m(""),d(""),p(!1)},[e,o,i]),j=s.useCallback(r=>{r.key==="Enter"&&(e!=null&&e.isValid)&&c()},[c,e]),f=o||(e==null?void 0:e.suggestedTitle)||"",t=e!=null&&e.platform.color?`#${e.platform.color}`:"#6B7280";return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(g,{type:"url",placeholder:h,value:l,onChange:k,onKeyPress:j,disabled:n,inputMode:"url",autoCapitalize:"none",autoCorrect:"off",autoComplete:"off",className:"pr-24"}),e&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full",style:{backgroundColor:`${t}15`,color:t},children:a.jsx(x,{platform:e.platform.icon,className:"w-3 h-3"})})})]}),e&&a.jsx("div",{className:"p-3 rounded-lg border transition-all duration-200",style:{borderColor:e.isValid?`${t}30`:"#ef444430",backgroundColor:e.isValid?`${t}08`:"#ef444408"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg shrink-0 mt-0.5",style:{backgroundColor:`${t}15`,color:t},children:a.jsx(x,{platform:e.platform.icon,className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:e.platform.name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${t}20`,color:t},children:e.platform.category})]}),a.jsx(g,{type:"text",placeholder:"Link title",value:f,onChange:v,disabled:n,inputMode:"text",autoCapitalize:"words",autoCorrect:"on",autoComplete:"off",className:"text-sm mb-2"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.normalizedUrl}),!e.isValid&&e.error&&a.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:e.error})]}),a.jsx(N,{onClick:c,disabled:n||!e.isValid||!f.trim(),size:"sm",style:{backgroundColor:e.isValid?t:void 0},className:e.isValid?"":"opacity-50",children:"Add"})]})}),l&&!(e!=null&&e.isValid)&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ðŸ’¡ Paste links from Spotify, Instagram, TikTok, YouTube, and more for automatic detection"})]})};try{y.displayName="UniversalLinkInput",y.__docgenInfo={description:"",displayName:"UniversalLinkInput",props:{onAdd:{defaultValue:null,description:"",name:"onAdd",required:!0,type:{name:"(link: DetectedLink) => void"}},placeholder:{defaultValue:{value:"Paste any link (Spotify, Instagram, TikTok, etc.)"},description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{y as U};
